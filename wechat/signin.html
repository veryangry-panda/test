<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>signin</title>
    <link rel="stylesheet" href="css/signin.css">
    <script>
        window.onload=function(){
            //点击获取验证码事件
            document.querySelector(".button_verification").onclick=function(){
                var Account=document.querySelector(".account").value;
                var Password=document.querySelector(".password").value;
                //console.log(Account)
                //console.log(Password)
                if(Account==""||Password==""){
                    document.querySelector(".picture_verification").innerHTML="请正确输入密码或账号"
                }else{
                    //定义异步对象
                    var ajax=new XMLHttpRequest();
                    //用post请求数据
                    ajax.open('post','signin.php')
                    ajax.setRequestHeader("Content-type","application/x-www-form-urlencoded");
                    //发送账号和密码
                    ajax.send('Account='+Account+'&Password'+Password);
                    //注册事件
                    ajax.onreadystatechange=function(){
                        if(ajax.readyState==4&&ajax.status==200){
                            console.log(ajax.responseText);
                            //把传送过来的数据转换为json对象
                            var jsOBJ=JSON.parse(ajax.responseText);
                            document.querySelector(".picture_verification").innerHTML=jsOBJ.YZM;
                        }
                    }
                }
            }
            //点击submit返回绑定成功
            document.querySelector(".button_submit").onclick=function(){
                //判断是否输入验证码
                var YZM=document.querySelector(".input_verification").firstChild.value;
                //console.log(YZM);
                if(YZM==""){
//					document.querySelector(".input_verification").firstChild.value
                    //不做任何提示，后期维护再做
                }else{
                    //定义异步对象
                    var ajax=new XMLHttpRequest();
                    //用get请求
                    ajax.open('get','Succes.php');
                    //发送请求
                    ajax.send();
                    //注册事件
                    ajax.onreadystatechange=function(){
                        if(ajax.readyState==4&&ajax.status==200){
                            console.log(ajax.responseText);
                            //转化为json对象
                            var jsOBJ=JSON.parse(ajax.responseText);
                            document.querySelector("body").innerHTML=jsOBJ.Succes;
                        }
                    }

                }
            }

        }


    </script>
    <script>
        window.onload=function(){

            var winWidth = 0;
            var winHeight = 0;
            function findDimensions() //函数：获取尺寸
            {
                //获取窗口宽度
                if (window.innerWidth){
                    winWidth = window.innerWidth;
                }
                else if ((document.body) && (document.body.clientWidth)) {
                    winWidth = document.body.clientWidth;
                }
                //获取窗口高度
                if (window.innerHeight) {
                    winHeight = window.innerHeight;
                }
                else if ((document.body) && (document.body.clientHeight)) {
                    winHeight = document.body.clientHeight;
                }
                //通过深入Document内部对body进行检测，获取窗口大小
                if (document.documentElement && document.documentElement.clientHeight && document.documentElement.clientWidth) {
                    winHeight = document.documentElement.clientHeight;
                    winWidth = document.documentElement.clientWidth;
                }

            }
            findDimensions();
            console.log(winHeight)
            console.log(winWidth)
            //设置背景图片，使背景图片填充满屏幕
            var body=document.getElementsByTagName("body")[0];
//          body.style.width=winWidth;
//          body.style.height=winHeight;
            var str='';
            str+=winWidth;
            str+='px ';
            str+=winHeight;
            str+='px'
            body.style.backgroundSize=str;
            //

        }
    </script>

</head>
<body>
<!--整个输入框用一个div包裹住-->
<div class="submit_in">
    <!--用一个表单，方便以后数据的上传与传递-->
    <form action="#" class="submit_in_form">

        <p class="text_account">正方账号</p>

        <p class="input_account">
            <input type="text" class="account">
        </p>

        <p class="text_password">正方密码</p>

        <p class="input_password">
            <input type="password" class="password">
        </p>

        <p class="text_verification">验证码</p>

        <p class="input_verification">
            <input type="text">
        </p>
        <!--给验证码预留的显示框-->
        <div class="verification">
            <input type="button" value="点击获取验证码" class="button_verification">
            <div class="picture_verification"></div>
        </div>

        <p>
            <input type="submit" class="button_submit">
        </p>
        <!--显示submit in的框-->
        <div class="text_submit_in">SUBMIT IN</div>
    </form>





</div>
</body>
</html>